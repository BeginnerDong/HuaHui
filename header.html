<div id="head_app">
	
	<div class="head">
		<div class="mobile-Btn flexCenter" @click="shownav">
			<span class="flexColumn">
				<em></em>
				<em></em>
				<em></em>
			</span>
		</div>
		<div class="cont flexRowBetween w1200">
			<div class="T-Logo"><a href="index.html"><img src="images/home-img1.png" ></a></div>
			<div class="orderNavTwo pc flexRowBetween fs16" >
				<div class="tt" :class="currentUrl=='/index.html'?'on':''"><a href="index.html">首页</a></div>
				<div class="tt" :class="currentUrl=='/aboutUs.html'?'on':''"><a href="aboutUs.html">关于华汇</a></div>
				<div class="tt pr" :class="currentUrl=='/anliCenter.html'?'on':''">
					<a href="anliCenter.html">经典案例</a>
					<div class="Asamll">
						<div class="Achild" v-for="(item,index) in labelData" :key="item.id">
							<div class="Aname">
								<a class="link" :href="'anliCenter.html?menu_id='+item.id">{{item.title}}</a>
							</div>
						</div>
					</div>
				</div>
				<div class="tt pr"  :class="currentUrl=='/brand.html'?'on':''">
					<a href="brand.html">品牌中心</a>
					<div class="Asamll">
						<div class="Achild" v-for="(item,index) in brandData" :key="item.id">
							<div class="Aname">
								<a class="link" :href="'product.html?id='+item.id">{{item.title}}
									<em class="pdl5" v-if="item.child&&item.child.length>0">&gt;</em>
								</a>
							</div>
							<div class="Bsamll">
								<a v-for="(c_item,c_index) in item.child" :href="'product.html?id='+item.id+'&childId='+c_item.id+'&behavior='+c_item.behavior" :key="c_item.id" class="Bchild" 
								>{{c_item.title}}</a>
							</div>
						</div>
					</div>
				</div>
				<div class="tt" :class="currentUrl=='/newsCenter.html'?'on':''"><a href="newsCenter.html">公司动态</a></div>
				
				<div class="tt" :class="currentUrl=='/loadCenter.html'?'on':''"><a href="loadCenter.html">下载中心</a></div>
				<div class="tt" :class="currentUrl=='/contactUs.html'?'on':''"><a href="contactUs.html">联系我们</a></div>
			</div>
			<div class="Rseach"><a href="seach.html"><img class="icon" src="images/home-icon.png" ></a></div>
		</div>
	
		<!-- 移动端显示导航 -->
		<div class="orderNavTwo mobile flexRowBetween fs16" v-show="is_showNav">
			<div class="tt" :class="currentUrl=='/index.html'?'on':''"><a href="index.html">首页</a></div>
			<div class="tt" :class="currentUrl=='/aboutUs.html'?'on':''"><a href="aboutUs.html">关于华汇</a></div>
			<div class="tt" :class="currentUrl=='/anliCenter.html'?'on':''">
				<a href="anliCenter.html">经典案例</a>
				<div class="Asamll AnliLabel">
					<div class="Achild" v-for="(item,index) in labelData" :key="item.id">
						<div class="Aname">
							<a class="link" :href="'anliCenter.html?menu_id='+item.id">{{item.title}}</a>
						</div>
					</div>
				</div>
			</div>
			<div class="tt pr"  :class="currentUrl=='/brand.html'?'on':''">
				<a href="brand.html">品牌中心</a>
				<div class="Asamll">
					<div class="Achild" v-for="(item,index) in brandData" :key="item.id">
						<div class="Aname">
							<a class="link" :href="'product.html?id='+item.id">{{item.title}}
								<em class="pdl5" v-if="item.child&&item.child.length>0">&gt;</em>
							</a>
						</div>
						<div class="Bsamll">
							<a v-for="(c_item,c_index) in item.child" :href="'product.html?id='+item.id+'&childId='+c_item.id+'&behavior='+c_item.behavior" :key="c_item.id" class="Bchild" 
							>{{c_item.title}}</a>
						</div>
					</div>
				</div>
			</div>
			<div class="tt" :class="currentUrl=='/newsCenter.html'?'on':''"><a href="newsCenter.html">公司动态</a></div>
			
			<div class="tt" :class="currentUrl=='/loadCenter.html'?'on':''"><a href="loadCenter.html">下载中心</a></div>
			<div class="tt" :class="currentUrl=='/contactUs.html'?'on':''"><a href="contactUs.html">联系我们</a></div>
		</div>
	</div>
	<div class="black-bj2" v-show="is_show"  @click="shownav"></div>
	<div class="headH"></div>
	
</div>


<script type="text/javascript">
	var head_app = new Vue({
	    el: '#head_app',
	    data:function(){
	        return {
	        	banner_index:0,
	        	is_toggle:false,
				currentUrl:'',
				is_show:false,
				searchItem:{
					thirdapp_id:window.base.thirdapp_id,
					title:''
				},
				bannerTimer:null,
				is_showNav:false,
				brandData:[],
				labelData:[]
				
	        }
	    },
	    created:function () {
			var self = this;
			self.getBrandData();
			self.getLabelData();
			// if(window.screen.width<1000){
			// 	// self.is_showNav = true;
			// 	// self.is_show = false
			// 	// $(".orderNavTwo").css('display','none');
			// 	// $(".black-bj2").css('display','none');
			// }else{
			// 	// self.is_showNav = false;
			// 	// self.is_show = true
				
			// };
	        var currentUrl = window.base.GetUrlRelativePath();
		
			var reg = /\/([^\/]+)\.html/i;
			if(reg.exec(currentUrl)&&reg.exec(currentUrl)[0]){
				self.currentUrl = reg.exec(currentUrl)[0];
			}else{
				self.currentUrl = '/index.html';
			};
			

    		window.base.bus.$on('to_headBanner',(res)=>{	
				if(res.mainImg){
					 self.bannerData = res.mainImg
					 return
				};
				console.log('res222',res)
				this.searchItem.title = res.title;
				
	        	this.to_headBanner()
		    });
			
			/* self.bannerTimer = setInterval(function(){
				self.changeBanner('+');
			},3000) */
	    },
		
		
		destroyed() {
			const self = this;
			clearInterval(this.timer);        
			self.bannerTimer = null;
		},
	    methods: {
				
			shownav(){
				const self = this;
				// if($(".orderNavTwo.mobile").css('display')=='none'){
				// 	$(".orderNavTwo.mobile").show()
				// 	$(".black-bj2").show()
				// }else{
				// 	$(".orderNavTwo.mobile").hide()
				// 	$(".black-bj2").hide()
				// }
				self.is_showNav = !self.is_showNav;
				self.is_show = !self.is_show;
			},
			
			getBrandData() {
				const self = this;
				const postData = {};
				
				postData.searchItem = {
					parentid:0,
					type:5
				};
				postData.order = {
					listorder:'asc'
				};
				postData.getAfter = {
					child:{
						tableName:'Label',
						middleKey:'id',
						key:'parentid',
						searchItem:{
							status:1
						},
						condition:'=',
						order:{
							listorder:'asc'
						}
					}
				};
				const callback = (res) => {
					if (res.info.data.length > 0) {
						self.brandData.push.apply(self.brandData,res.info.data);
					} 
				};
				window.base.labelGet(postData, callback);
			},
			
			getLabelData() {
				const self = this;
				const postData = {};
				postData.searchItem = {
					thirdapp_id: 2
				};
				postData.getBefore = {
					caseData: {
						tableName: 'Label',
						searchItem: {
							title: ['in', ['案例中心']],
						},
						middleKey: 'parentid',
						key: 'id',
						condition: 'in',
					},
				};
				postData.order = {
					listorder:'asc'
				};
				const callback = (res) => {
					if (res.info.data.length > 0) {
						self.labelData.push.apply(self.labelData,res.info.data);
					}
				};
				window.base.labelGet(postData, callback);
			}
			
	    }
	});
</script>

<style>
/* 二级导航 */
.Asamll{width: 150px;position: absolute;left: 50%;top:100%;transform: translateX(-50%);background:#fff;color: #222;text-align: left; display: none;box-shadow: 0px 0px 5px rgba(0,0,0,0.15);}
.AnliLabel{left: 45.4%;}
.Asamll .Achild{line-height: 50px;height: 50px;position: absolute;width: 100%;position: relative;font-size: 14px;box-sizing: border-box;border-bottom: 1px solid #e1e1e1;}
.Aname{padding: 0 15px;box-sizing: border-box;}
.Aname>.link{ color: #222;width: 100%; display: block;}
.Asamll .Achild:hover,.Bsamll .Bchild:hover{background: #F5F5F5;}
/* .Asamll .Achild .Aname:hover .link{color: #fff;} */
.Asamll .Achild .Aname em{font-size: 13px;}

.Bsamll{position: absolute;left: 100%;top: 0;width: 150px;background: #fff;display:none;box-shadow: 0px 0px 5px rgba(0,0,0,0.15);}
.Bsamll .Bchild{display: block;font-size: 14px;padding: 0 15px;box-sizing: border-box;color: #222;border-bottom: 1px solid #e1e1e1;}
.Bsamll .Bchild:last-child{border-bottom: 0;}

.orderNavTwo .tt:hover .Asamll{display: block;}
.Asamll .Achild:hover .Bsamll{display: block;}

.black-bj2{z-index: 10;/* display: none; */}

.head{position: fixed;top: 0;left: 0;right: 0;z-index: 20;box-shadow: 0 1px 4px rgba(100, 100, 100, 0.1);width: 100%;box-sizing: border-box;background: #fff;}

.head .cont{height: 60px;}

.T-Logo{width:auto; height:42px; display: block;margin-right: 20px;}
.T-Logo a{width: 100%;height: 100%; display: block;}
.T-Logo img{width: auto;height: 100%; display: block;}

.orderNavTwo{width: 70%;}
.orderNavTwo .w1200{align-items: flex-start;}
.orderNavTwo .tt{ text-align: center; box-sizing: border-box;width: 28.2%;}
.orderNavTwo .tt>a{display: block;line-height: 60px;padding: 0 10px;color: #222;}
.orderNavTwo .tt.on>a{ color: #c11719; /* background-color: #fff; */}
.orderNavTwo .tt>a:hover{color: #c11719;/* background: #777; */}


.Rseach .icon{width: 23px;height:23px;display: block;}

.mobile-Btn{width: 30px;height: 30px;background: #000;border-radius: 5px;padding: 5px;box-sizing: border-box;display: none; position: absolute; top: 50%; right: 2%;transform: translateY(-50%);}
.mobile-Btn em{width: 100%;height: 1px;background: #999;margin: 3px 0;}

.headH{height: 60px;width: 100%;}

.orderNavTwo.mobile{background-color: #fff;box-shadow: 0px 0px 5px rgba(0,0,0,0.15); display: none;}
.orderNavTwo.mobile{position: absolute;flex-wrap: wrap;top: 50px;left: auto;right: 0;width: 33%;box-sizing: border-box;background: #fff;font-size: 14px;}
.orderNavTwo.mobile .tt{width: 100%;border-bottom: 1px solid #E1E1E1;}
.orderNavTwo.mobile .tt>a{line-height: 44px;}


/*以下自适应样式*/

@media screen and ( max-width: 1000px){
	
	.head .logoCont{padding: 10px 2%;}
	.T-Logo{height: 30px;}
	.Rphone{display: none;}
	.mobile-Btn{display: block;}
	.head .cont{height: 50px;}
	.headH{height: 50px;}
	
	.head .cont{justify-content: flex-start;}
	.Rseach{margin-left: 30px; /* display: none; */}
	
	/* 二级导航 */
	.Asamll{width: 100%;left: auto;transform:initial;right: 100%;top: 0;}
	.Bsamll{width: 100%;left: auto;right: 100%;border-left:0;border-right: 1px solid #555;  }
	.Asamll .Achild{font-size: 13px;}
	
	.orderNavTwo.pc{display: none;}
	.orderNavTwo.mobile{display: block;}
}


</style>
